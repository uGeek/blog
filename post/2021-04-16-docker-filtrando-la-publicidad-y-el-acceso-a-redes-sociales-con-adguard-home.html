<head>
<title>Docker: Filtrando la publicidad y el acceso a redes sociales con AdGuard Home. uGeek Blog </title> 
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1" /> 
<link rel="icon" href="https://ugeek.github.io/icon/ugeek.png" type="image/png" sizes="32x32">
<div id="logo"><a href="https://ugeek.github.io/blog"><img src="https://ugeek.github.io/blog/icon/ugeek.png" style="width: 90px; height: 90px; display: block;" alt="uGeek Logo"></a></div> 
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" /> 
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek Blog ">
<link rel="shortcut icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" type="image/x-icon" /> 
<link rel="apple-touch-icon-precomposed" href="https://ugeek.github.io/icon/ugeek.png" /> 
<meta property="og:locale" content="es_ES" />
<meta name="robots" content="index, follow"> 
<meta name="twitter:site" content="@ugeekpodcast" /> 
<meta name="twitter:card" content="summary_large_image" /> 
<link rel="alternate" type="application/rss+xml" title="uGeek Blog " href="https://ugeek.github.io/blog/feed/" />
<meta name="author" content=""> 
<meta name="description" content="Hace unos 2 años que dejé de utilizar Pi-hole en favor de AdGuard Home, ya que me permite no solo filtrar toda la publicidad en todos los dispositivos, sino que" />
<meta property="og:site_name" content="uGeek Blog "/> 
<meta property="og:type" content="article" /> 
<meta property="og:title" content="Docker: Filtrando la publicidad y el acceso a redes sociales con AdGuard Home" /> 
<meta property="og:description" content="Hace unos 2 años que dejé de utilizar Pi-hole en favor de AdGuard Home, ya que me permite no solo filtrar toda la publicidad en todos los dispositivos, sino que" /> 
<meta property="og:image" content="https://ugeek.github.io/blog/images-blog/Docker:_Filtrando_la_publicidad_y_el_acceso_a_redes_sociales_con_AdGuard_Home.png" /> 
<meta property="og:url" content="https://ugeek.github.io/blog/post/2021-04-16-docker-filtrando-la-publicidad-y-el-acceso-a-redes-sociales-con-adguard-home.html" />
<meta name="twitter:title" content="Docker: Filtrando la publicidad y el acceso a redes sociales con AdGuard Home" /> 
<meta name="twitter:description" content="Hace unos 2 años que dejé de utilizar Pi-hole en favor de AdGuard Home, ya que me permite no solo filtrar toda la publicidad en todos los dispositivos, sino que" /> 
<meta name="twitter:image" content="https://ugeek.github.io/blog/images-blog/Docker:_Filtrando_la_publicidad_y_el_acceso_a_redes_sociales_con_AdGuard_Home.png" />
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek Blog ">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag("js", new Date()); gtag("config", ""); </script>
<link type="text/css" rel="stylesheet" href="../css/search.css"></link> 
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" /> 
<script type="text/javascript" src="../js/jquery.min.js"></script> 
<script type="text/javascript" src="../js/tipuesearch_set.js"></script> 
<script type="text/javascript" src="../content.js"></script> 
<script type="text/javascript" src="../js/tipuesearch.min.js"></script>
</head>
<br><br><br><br><br><br><br><br><br>
<link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/><div id="name"><a href="https://ugeek.github.io/"><tt>Blog del Podcast</tt></div></a><div id="icon"><a href="https://ugeek.github.io/podcast.xml" title="rss" alt="rss"><img src="../icon/podcast.png"  width="25" height="25" alt="podcast"></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/feed.xml" alt="rss"><img src="../icon/rss.png"  width="25" height="25"></a>&nbsp;&nbsp;<a href="https://github.com/ugeek"><img src="../icon/github.png"  width="25" height="25" alt="GitHub"></a>&nbsp;&nbsp;<a href="https://hub.docker.com/search?q=ugeek&type=image" alt="rss"><img src="../icon/docker.png"  width="25" height="25"></a>&nbsp;&nbsp;<a href="https://twitter.com/ugeekpodcast"><img src="../icon/twitter.png"  width="25" height="25" alt="Twitter"></a>&nbsp;&nbsp;<a href="https://t.me/uGeek"><img src="../icon/telegram.png"  width="25" height="25" alt="Telegram"></a></div><div id="menu"><a href="https://ugeek.github.io/blog/list.html"><tt>Artículos</tt></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/list.html"><tt>Podcasts</tt></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/blog/tag.html"><tt>Tags</tt></a></div>
<!-- SEARCH BOX -->
<input type="text" name="q" placeholder="buscar..." id="tipue_search_input" required> 
<div align="center" id="tipue_search_content"></div> 
<script>
$(document).ready(function() { $("#tipue_search_input").tipuesearch(); });
</script>
<h1 id="docker-filtrando-la-publicidad-y-el-acceso-a-redes-sociales-con-adguard-home" title="Docker: Filtrando la publicidad y el acceso a redes sociales con AdGuard Home" data-export_file_name="docker-filtrando-la-publicidad-y-el-acceso-a-redes-sociales-con-adguard-home" data-description="Hace unos 2 años que dejé de utilizar Pi-hole en favor de AdGuard Home, ya que me permite no solo filtrar toda la publicidad en todos los dispositivos, sino que" data-export_date="2021-04-16 18:50 2021-05-02" data-category="docker" data-tag="AdGuard,Pi-Hole" data-image="./images-blog/Docker:_Filtrando_la_publicidad_y_el_acceso_a_redes_sociales_con_AdGuard_Home.png">Docker: Filtrando la publicidad y el acceso a redes sociales con AdGuard Home</h1>
<p>Hace unos 2 años que dejé de utilizar Pi-hole en favor de AdGuard Home, ya que me permite no solo filtrar toda la publicidad en todos los dispositivos, sino que también me permite decidir que filtrar por dispositivos de un modo independiente.</p>
<p>Otra de las virtudes, es que trae por defecto el posibilidad de filtrar redes sociales, aplicaciones de mensajería, plataformas de streaming, como Facebook, Twitter, Youtube, Netflix, Tik Tok, Spotify, WhatsApp, Amazon, Telegram, Disney+, Reddit, y un largo etc...</p>
<p><img src="../images-blog/Docker:_Filtrando_la_publicidad_y_el_acceso_a_redes_sociales_con_AdGuard_Home.png" /></p>
<p>Como explicaba al principio, esto es ideal por si tienes hijos, en empresas,... si están muy enganchados a WhatsApp, Facebook y Twitter, por ejemplo, puedes caparle e acceso a estos servicios, permitiendo el resto.</p>
<p>Eso si, como puedes filtrar por usuarios, tu como administrador puedes decidir quien tiene acceso a cada que.</p>
<p>Vamos a crear un docker con AdGuard.</p>
<h2 id="docker-compose">Docker-compose</h2>
<p>Podemos instalar AdGuard Home en cualquiera de las arquitecturas, x86-64, arm, arm64, ... del siguiente modo gracias a docker-compose.</p>
<pre><code class="language-sh">
    adguard:
        container_name: adguard 
        image: adguard/adguardhome:latest
        ports:
          - '53:53/tcp'
          - '53:53/udp'
          - '67:67/udp'
          - '80:80/tcp'
          - '3000:3000/tcp'
          - '443:443/tcp'
          - '853:853/tcp'
        restart: unless-stopped
        volumes:
          - $HOME/docker/adguard/work:/opt/adguardhome/work
          - $HOME/docker/adguard/conf:/opt/adguardhome/conf
</code></pre>
<h2 id="utilizar-el-dns-de-adguard-home-en-linux-si-no-habilitas-el-servidor-dhcp">Utilizar el DNS de AdGuard Home en Linux, si no habilitas el servidor DHCP</h2>
<p>Para utilizar AdGuardHome en Linux sin activar el servidor DHCP, tenemos que conectarnos a la ip del servidor donde está instalado AdGuard.</p>
<p>Para configurar las DNS en tu máquina con Linux:</p>
<pre><code>
sudo nano  /etc/resolv.conf
</code></pre>
<p>añadimos la primera opción con <strong>2</strong>, seguido de la DNS que vamos a utilizar. Ejem:</p>
<p>Si la IP del servidor donde tenemos AdGuard es 192.168.1.100:</p>
<pre><code>
nameserver 192.168.1.100
</code></pre>
<h2 id="cada-reinicio-se-modifica-el-archivo-resolvconf">Cada reinicio se modifica el archivo resolv.conf</h2>
<p>Si cada vez que reinicias se modifica el archivo resolv.conf y no quieres que suceda, tienes dos soluciones:</p>
<ul>
<li>Hacer que el archivo sea inalterable ejecutando el siguiente comando <code>sudo chattr +i /etc/resolv.conf</code></li>
<li>Crear el nuevo archivo al reiniciar la máquina con crontab:</li>
</ul>
<p>Como usuario root: </p>
<pre><code>
sudo crontab -e
</code></pre>
<p>Creamos el nuevo archivo, añadiendo esto: Supongamos que la ip del AdGuard es 192.168.1.100</p>
<pre><code>
@reboot ( sleep 100 ; echo &quot;nameserver 192.168.1.100&quot; &gt; /etc/resolv.conf )
</code></pre>
<h2 id="proveedores-dns">Proveedores DNS</h2>
<p>Podemos <a href="https://kb.adguard.com/en/general/dns-providers">personalizar las DNS en la siguiente url</a>. </p>
<p>Yo actualmente estoy utilizando la famosa DNS de Cloudflare por https:</p>
<pre><code>
https://dns.cloudflare.com/dns-query
</code></pre>
<p>Para comprobar que la DNS que hemos seleccionado es la que realmente estamos utilizando, conectate a <a href="https://www.dnsleaktest.com/">https://www.dnsleaktest.com/</a> y selcciona <strong>7</strong>.</p>
<h2 id="conclusión">Conclusión</h2>
<p>Un servicio sencillo y alucinante, del que podrás disfrutar.</p>
<p>Publicado por Angel el Friday 16 April del 2021</p>
<p>También te puede interesar:</p>
<ul>
<li><a href="https://ugeek.github.io/blog/post/2023-11-25-docker-habilitar-el-cgroup-memory-en-una-raspberry-pi-para-ver-de-memoria.html">Docker. Habilitar el cgroup memory en una Raspberry Pi para ver % de Memoria</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-11-19-docker-dockge-gestionando-mis-docker-compose-de-forma-grafica.html">Docker. Dockge Gestionando mis Docker Compose de forma gráfica</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-03-29-flatnotes.html">Docker. Flatnotes tomando notas en markdown</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-03-23-docker-wikitten-una-wiki-markdown.html">Docker. Wikitten. Una wiki markdown</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-03-22-directorio-stfolder.html">Solución a Errores con Syncthing</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-01-18-instalacion-de-manjaro-en-raspberry.html">Instalación de Manjaro en Raspberry</a></li>
<li><a href="https://ugeek.github.io/blog/post/2023-01-17-liberar-el-puerto-53-utilizado-por-systemd-resolved.html">Liberar el puerto 53 utilizado por systemd-resolved</a></li>
<li><a href="https://ugeek.github.io/blog/post/2022-12-22-docker-borrar-logs.html">Docker. Borrar logs</a></li>
<li><a href="https://ugeek.github.io/blog/post/2022-12-07-docker-instalar-docker-docker-compose-y-portainer-en-arch-linux.html">Docker. Instalar docker, docker compose y Portainer en Arch Linux</a></li>
<li><a href="https://ugeek.github.io/blog/post/2022-06-24-docker-trilium-oficial.html">Docker: Trilium Oficial</a></li>
</ul>
<br><br><br>
<p style="text-align: center;">Powered by <a href="https://github.com/ugeek/org-bash-blog" target="_blank" rel="noopener">org-bash-blog</a></p>
<p style="text-align: center;">Written in OrgMode with Emacs and converted to HTML with Pandoc</p>
<p style="text-align: center;"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license"><img style="border-width: 0px; display: block; margin-left: auto; margin-right: auto;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" /></a><br />Este obra est&aacute; bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p><br><br><br>