<head>
<title> Veracrypt en Ubuntu y tu Raspberry por Terminal. uGeek Blog </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<div id="logo"><a href="https://ugeek.github.io"><img src="../icon/ugeek.png" border="0"  width="90" height="90" alt="uGeek"></a></div>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek - Blog de Tecnología">

<link rel="shortcut icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" type="image/x-icon" />
<link rel="icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" sizes="32x32" />
<link rel="icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" />
<meta property="og:locale" content="es_ES" />



<meta name="robots" content="index, follow">
<meta name="twitter:site" content="@ugeekpodcast" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="alternate" type="application/rss+xml" title="uGeek. Blog de Tecnología" href="https://ugeek.github.io/blog/feed/" />


<meta name="author" content="Angel">
<meta name="description" content="Es muy probable que desees tener parte de tus datos cifrados para poder almacenarlo en una nube pública o simplemente quieras cifrar parte del contenido almacenado en tu Raspberry" />


<meta property="og:site_name" content="uGeek Blog "/>
<meta property="og:type" content="article" /> 
<meta property="og:title" content=" Veracrypt en Ubuntu y tu Raspberry por Terminal" />
<meta property="og:description" content="Es muy probable que desees tener parte de tus datos cifrados para poder almacenarlo en una nube pública o simplemente quieras cifrar parte del contenido almacenado en tu Raspberry" />
<meta property="og:image" content="https://ugeek.github.io/blog/images-blog/veracrypt.png" />
<meta property="og:url" content="https://ugeek.github.io/blog/post/2019-03-29-veracrypt-en-ubuntu-y-tu-raspberry-por-terminal.html" />

<meta name="twitter:title" content=" Veracrypt en Ubuntu y tu Raspberry por Terminal" />
<meta name="twitter:description" content="Es muy probable que desees tener parte de tus datos cifrados para poder almacenarlo en una nube pública o simplemente quieras cifrar parte del contenido almacenado en tu Raspberry" />
<meta name="twitter:image" content="https://ugeek.github.io/blog/images-blog/veracrypt.png" />


<link rel="stylesheet" type="text/css" href="css/stylesheet.css" /><link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/feed.xml" title="uGeek - Blog de Tecnología">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131560140-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag("js", new Date())
gtag("config", "UA-131560140-1");
</script>


<link type="text/css" rel="stylesheet" href="../css/search.css"></link>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/tipuesearch_set.js"></script>
<script type="text/javascript" src="../content.js"></script>
<script type="text/javascript" src="../js/tipuesearch.min.js"></script>


</head>

<br><br><br><br><br><br><br><br><br>

 <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/> <div id="name"><a href="https://ugeek.github.io/"><tt>Blog del Podcast</tt></div></a> <div id="icon"> <a href="http://feeds.feedburner.com/uGeek" title="rss" alt="rss"><img src="../icon/podcast.png" width="25" height="25" alt="podcast"></a>&nbsp;&nbsp; <a href="http://feeds.feedburner.com/uGeekBlog" alt="rss"><img src="../icon/rss.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://github.com/ugeek"><img src="../icon/github.png" width="25" height="25" alt="GitHub"></a>&nbsp;&nbsp; <a href="https://hub.docker.com/search?q=ugeek&type=image" alt="rss"><img src="../icon/docker.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://twitter.com/ugeekpodcast"><img src="../icon/twitter.png" width="25" height="25" alt="Twitter"></a>&nbsp;&nbsp; <a href="https://t.me/uGeek"><img src="../icon/telegram.png" width="25" height="25" alt="Telegram"></a></div> <div id="menu"> <a href="https://ugeek.github.io/blog/list.html"><tt>Artículos</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/list.html"><tt>Podcasts</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/blog/tag.html"><tt>Tags</tt></a></div>


<!-- THIS IS THE SEARCH BOX -->


<input type="text" name="q" placeholder="buscar..."  id="tipue_search_input"  required>
<!-- <input type="text" name="q" id="tipue_search_input" autocomplete="off" required> -->

<!-- THIS IS WHERE YOU DISPLAY THE SEARCH RESULTS -->
<div align="center" id="tipue_search_content"></div>
<!-- THIS JAVASCRIPT CODE DISPLAY THE SEARCH RESULTS -->
<script>

$(document).ready(function() {
$("#tipue_search_input").tipuesearch();
});

</script>

<!-- END BOX -->




<h1 id="veracrypt-en-ubuntu-y-tu-raspberry-por-terminal-1" title="Veracrypt en Ubuntu y tu Raspberry por Terminal" data-export_file_name="Veracrypt en Ubuntu y tu Raspberry por Terminal" data-description="Es muy probable que desees tener parte de tus datos cifrados para poder almacenarlo en una nube pública o simplemente quieras cifrar parte del contenido almacenado en tu Raspberry" data-export_date="2019-03-29 21:00" data-category="cifrado" data-tag="servidor,raspberry" data-image="./images-blog/veracrypt.png">Veracrypt en Ubuntu y tu Raspberry por Terminal</h1>
<h5>Tiempo estimado de lectura: 7 minutos. 846 palabras.    <a href="https://ugeek.github.io/blog/categories/cifrado">cifrado</a></h5>
<center>
<p><img src="../images-blog/veracrypt.png" /></p>
</center>
<p>Es muy probable que desees tener parte de tus datos cifrados para poder almacenarlo en una nube pública o simplemente quieras cifrar el contenido almacenado en tu Raspberry.</p>
<p>Quizás quieras cifrar un número de archivos que hay en un PC compartido con otras personas y este contenido lo tengas sincronizado con Syncthing hacia tu Raspberry.</p>
<p>En tu Raspberry, montarás el Volumen descifrado en otra carpeta, que estará sincronizada también con Syncthing a tu movil, pudiendo ver o editar los archivos en todo momento.</p>
<p>Hay varios métodos como hacerlo que os explicaré en siguientes artículos y Podcast, pero hoy voy a explicaros como hacerlo mediante Veracrypt, una derivación de Truecrypt, que supuestamente Veracrypt a solucionado los problemas encontrados en la auditoria de seguridad.</p>
<p>Veracrypt es una herramienta que permitirá crear un único archivo cifrado de un tamaño que determinaremos en el momento de la creación, y dentro de él estarán todos los archivos que deseemos guardar. Para poder editar, leer,… estos archivos, montaremos el archivo cifrado con Veracrypt en una carpeta vacía, como si se tratase de un usb o disco duro.</p>
<p>Es totalmente multiplataforma y podemos utilizar interfaz gráfica desde el escritorio.</p>
<p>En este Post os voy a explicar como hacerlo desde la terminal, pero si os resulta muy complicado crear el contenedor cifrado desde la terminal, hacerlo desde un PC y sincronizarlo con vuestra Raspberry.</p>
<h2 id="instalación-en-ubuntu">Instalación en Ubuntu</h2>
<p>En Ubuntu lo instalaríamos mediante PPA:</p>
<pre><code>sudo add-apt-repository ppa:unit193/encryption
sudo apt-get update
sudo apt install veracrypt
</code></pre>
<ul>
<li><a href="https://launchpad.net/~unit193/+archive/ubuntu/encryption">Fuente</a></li>
</ul>
<h2 id="instalación-en-raspberry">Instalación en Raspberry</h2>
<p>Instalamos las siguientes dependencias:</p>
<pre><code>sudo apt-get update
sudo apt-get install libfuse-dev makeself libwxbase3.0-0v5
</code></pre>
<p>Instalamos la última versión de Veracrypt que podemos <a href="https://archive.codeplex.com/?p=veracrypt">encontrar en este enlace:</a></p>
<pre><code>cd 
mkdir veracryptfiles
cd veracryptfiles
wget -L -O veracrypt-1.21-raspbian-setup.tar.bz2 https://launchpad.net/veracrypt/trunk/1.21/+download/veracrypt-1.21-raspbian-setup.tar.bz2
</code></pre>
<p>Extraemos el archivo descargados:</p>
<pre><code>tar -vxjf ./veracrypt-1.21-raspbian-setup.tar.bz2
chmod +x veracrypt-1.21-setup-*
</code></pre>
<p>Instalamos ejecutando el script:</p>
<pre><code>./veracrypt-1.21-setup-console-armv7
</code></pre>
<p>Ahora seguiremos los pasos que nos pedirá el programa:</p>
<ul>
<li><code>1</code> (instalar)</li>
<li><code>Enter</code> (aceptar la licencia)</li>
<li><code>yes</code></li>
</ul>
<h2 id="desinstalar">Desinstalar</h2>
<p>Para desinstalar:</p>
<pre><code>rm -r veracryptfiles
</code></pre>
<h2 id="crear-un-volumen">Crear un Volumen</h2>
<p>Primero crearemos una carpeta donde queremos montar el volumen. Por ejemplo:</p>
<pre><code>mkdir -p /media/veracrypt
</code></pre>
<p>Vamos a crear nuestro volumen, para ello teclearemos este comando y Veracrypt nos hará una serie de preguntas que os explico a continuación. Recuerda, como te he comentado, que si te resulta complejo este paso, crealo desde tu PC y sincronízalo con tu Raspberry.</p>
<pre><code>veracrypt -t -c
</code></pre>
<p>Ahora veracrypt nos preguntará:</p>
<ul>
<li>Si queremos que el volumen sea oculto. En caso de no serlo, pulsa <code>1</code></li>
<li>Introduce la ruta completa del archivo cifrado: <code>$HOME/archivo_cifrado</code></li>
<li>Ahora nos preguntará el tamaño del archivo: <code>(sizeK/size[M]/sizeG)</code> por ejemplo 50M (50Mb)</li>
<li>Nos pedirá con que algoritmo queremos cifrar nuestro archivo, el mas popular es AES, si quieres complicar un poco mas la cosa, selecciona uno de los otros. Introduce el número deseado</li>
<li>Selecciona el algoritmo de hash deseado <code>1</code></li>
<li>Ahora seleccionaremos el sistema de archivos. <code>5</code></li>
<li>Introduce la contraseña. Se recomienda mas de 20 caracteres</li>
<li>PIM significa Multiplicador de Iteraciones Personales. Presiona <code>ENTER</code></li>
<li>Si desea utilizar el archivo de claves en lugar de la contraseña, aquí puede definir el archivo de claves. Yo no lo utilizaré, así que presiono <code>ENTER</code></li>
<li>Como en la versión de terminal, no podemos utilizar el ratón como en la versión gráfica, vamos a teclear 320 caracteres aleatorios para crear la base para tu clave de cifrado.</li>
<li>Ahora paciencia, la Raspberry será un poco lenta si el volumen que deseamos crear es muy grande</li>
</ul>
<h2 id="montar-volumen">Montar Volumen</h2>
<p>Para montar un volumen ya creado, como la mayoría de cifrados en GNU/Linux, el comando sería:</p>
<p><code>veracrypt &lt;carpeta_origen&gt; &lt;carpeta_montaje&gt;</code></p>
<p>Ahora vamos a seguir el ejemplo práctico:</p>
<pre><code>veracrypt $HOME/archivo_cifrado /media/veracrypt
</code></pre>
<p>Ahora te preguntará que ingreses el PIM, el archivo de claves y si has creado un volumen normal, no oculto. Ni no has ingresado nada de esto, pulsa a todo <strong>ENTER</strong>, <strong>ENTER</strong>, <strong>ENTER</strong>.</p>
<p>Ya tendrás el volumen montado en la ruta que has especificado. Si quieres que la próxima vez no te pregunte nada al montar:</p>
<pre><code>veracrypt $HOME/archivo_cifrado /media/veracrypt --pim=0 --keyfiles= --protect-hidden=no
</code></pre>
<h2 id="desmontar-la-unidad">Desmontar la unidad</h2>
<p>Para desmontar todas las unidades montadas con veracrypt:</p>
<p><code>veracrypt -d</code></p>
<p><code>veracrypt -d &lt;carpeta_origen&gt;</code></p>
<h2 id="alias-puede-ser-una-buena-idea">Alias puede ser una Buena Idea</h2>
<p>Alias puede ser una buena idea si no queremos recordar la ruta de las carpetas:</p>
<p>Enviar mediante printf a .bashrc nuestro comando con las carpetas que vamos a utilizar y el alias, en mi caso, <strong>veracrypt_m</strong>.</p>
<pre><code>printf &quot;\nalias veracrypt_m=\&quot;veracrypt $HOME/veracrypt /media/veracrypt --pim=0 --keyfiles= --protect-hidden=no\&quot;&quot; &gt;&gt; .bashrc 
</code></pre>
<p>Para desmontar, utilizaremos el alias <strong>veracrypt_d</strong>.</p>
<pre><code>printf &quot;\nalias veracrypt_d=\&quot;veracrypt -d $HOME/veracrypt&quot;&quot; &gt;&gt; .bashrc 
</code></pre>
<h2 id="conclusión">Conclusión</h2>
<p>El punto positivo de Veracrypt, es que al ser un único archivo no hay graves problemas de sincronización, el punto negativo, es que si el archivo es muy grande, no es muy aconsejable hacer sincronizaciones cifradas con nuestro movil, ya que podriamos consumir nuestra tarifa de datos.</p>
<h2 id="fuentes">Fuentes</h2>
<ul>
<li><a href="https://www.veracrypt.fr/en/Downloads.html">https://www.veracrypt.fr/en/Downloads.html</a></li>
<li><a href="https://www.veracrypt.fr/en/Command%20Line%20Usage.html">https://www.veracrypt.fr/en/Command%20Line%20Usage.html</a></li>
<li><a href="https://jacekstyrylski.github.io/2017/04/02/Vera-Crypt-OSMC/">https://jacekstyrylski.github.io/2017/04/02/Vera-Crypt-OSMC/</a></li>
</ul>
<br>
<p>Publicado por Angel el Friday 29 March del 2019</p>
<br><br> 
<p>También te puede interesar:</p>
<ul>
<li><a href="https://ugeek.github.io/blog/post/2019-03-31-tomb-mis-secretos-son-una-tumba-crifrar-archivos.html">Tomb. Mis secretos son una Tumba. Crifrar Archivos</a></li>
<li><a href="https://ugeek.github.io/blog/post/2019-03-29-veracrypt-en-ubuntu-y-tu-raspberry-por-terminal.html">Veracrypt en Ubuntu y tu Raspberry por Terminal</a></li>
<li><a href="https://ugeek.github.io/blog/post/2019-01-17-gpg-cifrado-de-archivos-simetrico.html">GPG. Cifrado de archivos simétrico</a></li>
</ul>
<br><br><br><p style="text-align: center;">Powered by <a href="https://github.com/ugeek/org-bash-blog" target="_blank" rel="noopener">org-bash-blog</a></p><p style="text-align: center;">Writing in orgmode whith emacs</p> <p style="text-align: center;"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license"><img style="border-width: 0px; display: block; margin-left: auto; margin-right: auto;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" /></a><br />Este obra est&aacute; bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p><br><br><br>
