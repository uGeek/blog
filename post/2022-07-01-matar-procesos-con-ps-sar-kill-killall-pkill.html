<head>
<title>Matar procesos con ps, sar, kill, killall, pkill. uGeek Blog </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<div id="logo"><a href="https://ugeek.github.io"><img src="../icon/ugeek.png" border="0"  width="90" height="90" alt="uGeek"></a></div>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek - Blog de Tecnología">

<link rel="shortcut icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" type="image/x-icon" />
<link rel="icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" sizes="32x32" />
<link rel="icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" />
<meta property="og:locale" content="es_ES" />



<meta name="robots" content="index, follow">
<meta name="twitter:site" content="@ugeekpodcast" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="alternate" type="application/rss+xml" title="uGeek. Blog de Tecnología" href="https://ugeek.github.io/blog/feed/" />


<meta name="author" content="Angel">
<meta name="description" content="** Qué procesos consumen más y como detenerlos" />


<meta property="og:site_name" content="uGeek Blog "/>
<meta property="og:type" content="article" /> 
<meta property="og:title" content="Matar procesos con ps, sar, kill, killall, pkill" />
<meta property="og:description" content="** Qué procesos consumen más y como detenerlos" />
<meta property="og:image" content="https://ugeek.github.io/blog/images-blog/ugeek.png" />
<meta property="og:url" content="https://ugeek.github.io/blog/post/2022-07-01-matar-procesos-con-ps-sar-kill-killall-pkill.html" />

<meta name="twitter:title" content="Matar procesos con ps, sar, kill, killall, pkill" />
<meta name="twitter:description" content="** Qué procesos consumen más y como detenerlos" />
<meta name="twitter:image" content="https://ugeek.github.io/blog/images-blog/ugeek.png" />


<link rel="stylesheet" type="text/css" href="css/stylesheet.css" /><link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/feed.xml" title="uGeek - Blog de Tecnología">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag("js", new Date())
gtag("config", "");
</script>


<link type="text/css" rel="stylesheet" href="../css/search.css"></link>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/tipuesearch_set.js"></script>
<script type="text/javascript" src="../content.js"></script>
<script type="text/javascript" src="../js/tipuesearch.min.js"></script>


</head>

<br><br><br><br><br><br><br><br><br>

 <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/> <div id="name"><a href="https://ugeek.github.io/"><tt>Blog del Podcast</tt></div></a> <div id="icon"> <a href="https://ugeek.github.io/podcast.xml" title="rss" alt="rss"><img src="../icon/podcast.png" width="25" height="25" alt="podcast"></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/feed.xml" alt="rss"><img src="../icon/rss.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://github.com/ugeek"><img src="../icon/github.png" width="25" height="25" alt="GitHub"></a>&nbsp;&nbsp; <a href="https://hub.docker.com/search?q=ugeek&type=image" alt="rss"><img src="../icon/docker.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://twitter.com/ugeekpodcast"><img src="../icon/twitter.png" width="25" height="25" alt="Twitter"></a>&nbsp;&nbsp; <a href="https://t.me/uGeek"><img src="../icon/telegram.png" width="25" height="25" alt="Telegram"></a></div> <div id="menu"> <a href="https://ugeek.github.io/blog/list.html"><tt>Artículos</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/list.html"><tt>Podcasts</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/blog/tag.html"><tt>Tags</tt></a></div>


<!-- THIS IS THE SEARCH BOX -->


<input type="text" name="q" placeholder="buscar..."  id="tipue_search_input"  required>
<!-- <input type="text" name="q" id="tipue_search_input" autocomplete="off" required> -->

<!-- THIS IS WHERE YOU DISPLAY THE SEARCH RESULTS -->
<div align="center" id="tipue_search_content"></div>
<!-- THIS JAVASCRIPT CODE DISPLAY THE SEARCH RESULTS -->
<script>

$(document).ready(function() {
$("#tipue_search_input").tipuesearch();
});

</script>

<!-- END BOX -->




<h1 id="matar-procesos-con-ps-sar-kill-killall-pkill-1" title="Matar procesos con ps, sar, kill, killall, pkill" data-export_file_name="matar-procesos-con-ps-sar-kill-killall-pkill" data-description="** Qué procesos consumen más y como detenerlos" data-export_date="2022-07-01 12:30" data-category="cpu" data-tag="cpu,ram" data-image="./images-blog/ugeek.png">Matar procesos con ps, sar, kill, killall, pkill</h1>
<h5>Tiempo estimado de lectura: 4 minutos. 498 palabras.    <a href="https://ugeek.github.io/blog/categories/cpu">cpu</a></h5>
<h2 id="qué-procesos-consumen-más-y-como-detenerlos">Qué procesos consumen más y como detenerlos</h2>
<p>De tanto en tanto, me gusta echar un vistazo a todos los procesos que están corriendo en mi máquina Linux. Es interesante ver todos los procesos que más recursos están consumiendo, en el caso que ese proceso no sea importante para ti, detenerlo.</p>
<p>En este artículo vamos a ver cómo visualizar todos los procesos que más CPU consume así como RAM y segundo bloque del artículo veremos como detenerlos de diferentes maneras.</p>
<h2 id="ps">ps</h2>
<p>Con ps podemos visualizar los procesos. Podemos utilizar estas 2 opciones que nos mostraran los procesos de diferentes maneras:</p>
<div class="sourceCode" id="cb1" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">ps</span> ax</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">ps</span> -e</a></code></pre></div>
<h3 id="mostrar-los-procesos-que-consumen-más-cpu">Mostrar los procesos que consumen más cpu</h3>
<div class="sourceCode" id="cb2" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">ps</span> aux --sort=-pcpu</a></code></pre></div>
<p> </p>
<p>Con el comando <code>head</code>, podemos mostrar las 10 primeras líneas:</p>
<div class="sourceCode" id="cb3" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">ps</span> aux --sort=-pcpu <span class="kw">|</span> <span class="fu">head</span></a></code></pre></div>
<p> </p>
<p>Aquí vemos el resultado de la salida ordenada, usando %cpu en lugar de pcpu:</p>
<div class="sourceCode" id="cb4" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">ps</span> aux --sort -%cpu</a></code></pre></div>
<h3 id="refresco-del-comando">Refresco del comando</h3>
<p>El comando <code>watch</code> ejecuta un comando mostrando su salida por pantalla cada x segundos.</p>
<div class="sourceCode" id="cb5" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="ex">watch</span> -n 1 <span class="st">&#39;ps -eo pid,ppid,cmd,%cpu --sort=-%cpu | head&#39;</span></a></code></pre></div>
<p><code>-n</code> es el intervalo en segundos y <code>ps -o</code> utiliza un formato definido por el usuario.</p>
<h3 id="monitorizar-la-cpu-con-sar">Monitorizar la cpu con sar</h3>
<p>Para instalarlo, lo encontraremos en los repositorios con:</p>
<div class="sourceCode" id="cb6" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">sudo</span> apt install sysstat</a></code></pre></div>
<p>Vamos a mostrar el uso de la CPU en tiempo real, cada 1 segundo, 10 veces en total.</p>
<div class="sourceCode" id="cb7" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="ex">sar</span> -u 1 10</a></code></pre></div>
<p>Al final muestra una media.</p>
<p>Para guardar la información en un archivo:</p>
<div class="sourceCode" id="cb8" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="ex">sar</span> 1 10 -o /tmp/datos <span class="op">&gt;</span> /dev/null <span class="op">2&gt;&amp;1</span></a></code></pre></div>
<p>La opción <code>-o</code> permite exportarlo a un archivo. Para consultar el archivo:</p>
<div class="sourceCode" id="cb9" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="ex">sar</span> -f /tmp/datos</a></code></pre></div>
<h3 id="informe-de-memoria">Informe de memoria</h3>
<p>Para el informe de memoria, utilizaremos la opción <code>-r</code></p>
<div class="sourceCode" id="cb10" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="ex">sar</span> -r 1 10</a></code></pre></div>
<h2 id="matar-procesos-con-kill-killall-y-pkill">Matar procesos con kill, killall y pkill</h2>
<p>Para matar el proceso con kill, necesitamos conocer el identificador del proceso. Para ello utilizaremos el comando <code>ps</code></p>
<p>Voy a detener una conversión de un proceso con pandoc, filtrando también con <code>grep</code></p>
<div class="sourceCode" id="cb11" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">ps</span> aux <span class="kw">|</span> <span class="fu">grep</span> pandoc</a></code></pre></div>
<p> </p>
<p>La terminal en sus primeras</p>
<div class="sourceCode" id="cb12" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="ex">angel</span>  1649126  0.0  0.0   5920   708 pts/2</a></code></pre></div>
<p> </p>
<p>En este caso el identificador sería <code>1649126</code>. Por lo tanto utilizaremos para matar el proceso:</p>
<div class="sourceCode" id="cb13" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="bu">kill</span> 1649126</a></code></pre></div>
<h3 id="killall">killall</h3>
<p>Con Killall es mucho más sencillo. Para matar un proceso utilizaremos el nombre de la aplicación. Ejemplo:</p>
<div class="sourceCode" id="cb14" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="fu">killall</span> firefox</a></code></pre></div>
<h3 id="para-matar-todos-los-pids-asociados-a-un-nombre-de-proceso">Para matar todos los PIDs asociados a un nombre de proceso</h3>
<div class="sourceCode" id="cb15" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1"><span class="fu">sudo</span> killall -9 pcmanfm</a></code></pre></div>
<h3 id="reiniciar-todos-los-pids-asociados-a-un-nombre-de-proceso">Reiniciar todos los PIDs asociados a un nombre de proceso</h3>
<div class="sourceCode" id="cb16" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1"><span class="fu">sudo</span> killall -HUP pcmanfm</a></code></pre></div>
<h3 id="cerrar-todos-los-procesos-de-un-usuario-y-salir-de-sesión">Cerrar todos los procesos de un usuario y salir de sesión</h3>
<p>Con pkill podemos matar procesos, cerrando la totalidad o parte del nombre</p>
<div class="sourceCode" id="cb17" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" title="1"><span class="fu">sudo</span> pkill firefox</a></code></pre></div>
<h3 id="matar-todos-los-procesos-y-salir-de-sesión-de-usuario-con-pkill">Matar todos los procesos y salir de sesión de usuario con pkill</h3>
<div class="sourceCode" id="cb18" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1"><span class="ex">pkill</span> -u angel</a></code></pre></div>
<br>
<p>Publicado por Angel el Friday 01 July del 2022</p>
<br><br> 
<p>También te puede interesar:</p>
<ul>
<li><a href="https://ugeek.github.io/blog/post/2021-05-31-sensors-y-psensor-controlando-la-temperatura-de-mi-pc.html">Sensors y psensor. Controlando la temperatura de mi PC</a></li>
<li><a href="https://ugeek.github.io/blog/post/2021-01-05-docker-ctop-el-portanier-de-terminal.html">Docker: Ctop. El portanier de terminal</a></li>
<li><a href="https://ugeek.github.io/blog/post/2020-08-14-procesos-que-consumen-mas-cpu-y-ram-en-linux.html">Procesos que consumen más CPU y RAM en Linux</a></li>
<li><a href="https://ugeek.github.io/blog/post/2020-04-07-el-htop-2-0-desarrollado-en-bash-bashtop.html">El htop 2.0 desarrollado en bash. bashtop</a></li>
</ul>
<br><br><br><p style="text-align: center;">Powered by <a href="https://github.com/ugeek/org-bash-blog" target="_blank" rel="noopener">org-bash-blog</a></p><p style="text-align: center;">Written in OrgMode with Emacs and converted to HTML with Pandoc</p> <p style="text-align: center;"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license"><img style="border-width: 0px; display: block; margin-left: auto; margin-right: auto;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" /></a><br />Este obra est&aacute; bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p><br><br><br>
