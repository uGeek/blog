<head>
<title>Conduit. El matrix escrito en rust. uGeek Blog </title> 
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1" /> 
<link rel="icon" href="https://ugeek.github.io/icon/ugeek.png" type="image/png" sizes="32x32">
<div id="logo"><a href="https://ugeek.github.io/blog"><img src="https://ugeek.github.io/blog/icon/ugeek.png" style="width: 90px; height: 90px; display: block;" alt="uGeek Logo"></a></div> 
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" /> 
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek Blog ">
<link rel="shortcut icon" href="https://ugeek.github.io/bloghttps://ugeek.github.io/icon/ugeek-256x256.png" type="image/x-icon" /> 
<link rel="apple-touch-icon-precomposed" href="https://ugeek.github.io/icon/ugeek.png" /> 
<meta property="og:locale" content="es_ES" />
<meta name="robots" content="index, follow"> 
<meta name="twitter:site" content="@ugeekpodcast" /> 
<meta name="twitter:card" content="summary_large_image" /> 
<link rel="alternate" type="application/rss+xml" title="uGeek Blog " href="https://ugeek.github.io/blog/feed/" />
<meta name="author" content=""> 
<meta name="description" content="Conduit es un servidor de Matrix rápido y fácil de configurar, que simplemente funciona. " />
<meta property="og:site_name" content="uGeek Blog "/> 
<meta property="og:type" content="article" /> 
<meta property="og:title" content="Conduit. El matrix escrito en rust" /> 
<meta property="og:description" content="Conduit es un servidor de Matrix rápido y fácil de configurar, que simplemente funciona. " /> 
<meta property="og:image" content="https://ugeek.github.io/blog/images-blog/ugeek.png" /> 
<meta property="og:url" content="https://ugeek.github.io/blog/post/2022-07-11-conduit-el-matrix-escrito-en-rust.html" />
<meta name="twitter:title" content="Conduit. El matrix escrito en rust" /> 
<meta name="twitter:description" content="Conduit es un servidor de Matrix rápido y fácil de configurar, que simplemente funciona. " /> 
<meta name="twitter:image" content="https://ugeek.github.io/blog/images-blog/ugeek.png" />
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/blog/feed.xml" title="uGeek Blog ">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag("js", new Date()); gtag("config", ""); </script>
<link type="text/css" rel="stylesheet" href="../css/search.css"></link> 
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" /> 
<script type="text/javascript" src="../js/jquery.min.js"></script> 
<script type="text/javascript" src="../js/tipuesearch_set.js"></script> 
<script type="text/javascript" src="../content.js"></script> 
<script type="text/javascript" src="../js/tipuesearch.min.js"></script>
</head>
<br><br><br><br><br><br><br><br><br>
<link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/><div id="name"><a href="https://ugeek.github.io/"><tt>Blog del Podcast</tt></div></a><div id="icon"><a href="https://ugeek.github.io/podcast.xml" title="rss" alt="rss"><img src="../icon/podcast.png"  width="25" height="25" alt="podcast"></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/feed.xml" alt="rss"><img src="../icon/rss.png"  width="25" height="25"></a>&nbsp;&nbsp;<a href="https://github.com/ugeek"><img src="../icon/github.png"  width="25" height="25" alt="GitHub"></a>&nbsp;&nbsp;<a href="https://hub.docker.com/search?q=ugeek&type=image" alt="rss"><img src="../icon/docker.png"  width="25" height="25"></a>&nbsp;&nbsp;<a href="https://twitter.com/ugeekpodcast"><img src="../icon/twitter.png"  width="25" height="25" alt="Twitter"></a>&nbsp;&nbsp;<a href="https://t.me/uGeek"><img src="../icon/telegram.png"  width="25" height="25" alt="Telegram"></a></div><div id="menu"><a href="https://ugeek.github.io/blog/list.html"><tt>Artículos</tt></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/list.html"><tt>Podcasts</tt></a>&nbsp;&nbsp;<a href="https://ugeek.github.io/blog/tag.html"><tt>Tags</tt></a></div>
<!-- SEARCH BOX -->
<input type="text" name="q" placeholder="buscar..." id="tipue_search_input" required> 
<div align="center" id="tipue_search_content"></div> 
<script>
$(document).ready(function() { $("#tipue_search_input").tipuesearch(); });
</script>
<h1 id="conduit-el-matrix-escrito-en-rust" title="Conduit. El matrix escrito en rust" data-export_file_name="conduit-el-matrix-escrito-en-rust" data-description="Conduit es un servidor de Matrix rápido y fácil de configurar, que simplemente funciona. " data-export_date="2022-07-11 05:15" data-category="matrix" data-tag="rust" data-image="./images-blog/ugeek.png">Conduit. El matrix escrito en rust</h1>
<p>Conduit es un servidor de Matrix rápido y fácil de configurar, que simplemente funciona. </p>
<p>Consume muy pocos recursos, así que puedes instalarlo en una  Raspberry Pi y alojar Matrix para tu familia, como sistema de notificaciones, amigos o empresa.</p>
<p> </p>
<p>El objetivo de este proyecto es simplificar al máximo la creación de un servidor de matrix. No necesitas como en su versión original del proyecto en python, crear archivos de configuración.</p>
<p> </p>
<p>Recuerda que este servidor a día de hoy, está en versión Beta, lo que quiere decir que puedes encontrar errores.</p>
<p> </p>
<h2 id="docker-compose">Docker Compose</h2>
<p>Solo edita añadiendo la url de tu servidor, la variable <code>CONDUIT_SERVER_NAME: matrix.dominio.duckdns.org</code></p>
<p> </p>
<pre><code class="language-sh">
version: '3'

services:
homeserver:
### If you already built the Conduit image with 'docker build' or want to use a registry image,
### then you are ready to go.
image: matrixconduit/matrix-conduit:next #:next-alpine #latest #next-alpine # latest
container_name: matrix-conduit
### If you want to build a fresh image from the sources, then comment the image line and uncomment the
### build lines. If you want meaningful labels in your built Conduit image, you should run docker-compose like this:
### CREATED=$(date -u +'%Y-%m-%dT%H:%M:%SZ') VERSION=$(grep -m1 -o '[0-9].[0-9].[0-9]' Cargo.toml) docker-compose up -d
# build:
#     context: .
#     args:
#         CREATED: '2021-03-16T08:18:27Z'
#         VERSION: '0.1.0'
#         LOCAL: 'false'
#         GIT_REF: origin/master
restart: unless-stopped
ports:
- 8448:6167
networks:
- DockerLAN
volumes:
- db:/var/lib/matrix-conduit/
environment:
CONDUIT_SERVER_NAME: matrix.dominio.duckdns.org # EDIT THIS
CONDUIT_DATABASE_PATH: /var/lib/matrix-conduit/
CONDUIT_DATABASE_BACKEND: rocksdb
CONDUIT_PORT: 6167
CONDUIT_MAX_REQUEST_SIZE: 20_000_000 # in bytes, ~20 MB
CONDUIT_ALLOW_REGISTRATION: 'true'
CONDUIT_ALLOW_FEDERATION: 'false'
CONDUIT_TRUSTED_SERVERS: '[&quot;matrix.org&quot;]'
#CONDUIT_MAX_CONCURRENT_REQUESTS: 100
#CONDUIT_LOG: info,rocket=off,_=off,sled=off
CONDUIT_ADDRESS: 0.0.0.0
CONDUIT_CONFIG: '' # Ignore this
#
### Uncomment if you want to use your own Element-Web App.
### Note: You need to provide a config.json for Element and you also need a second
###       Domain or Subdomain for the communication between Element and Conduit
### Config-Docs: https://github.com/vector-im/element-web/blob/develop/docs/config.md
# element-web:
#     image: vectorim/element-web:latest
#     restart: unless-stopped
#     ports:
#         - 8009:80
#     volumes:
#         - ./element_config.json:/app/config.json
#     depends_on:
#         - homeserver
volumes:
db:
</code></pre>
<p>Ahora levanta el docker-compose.yml</p>
<h2 id="iniciando-en-matrix">Iniciando en Matrix</h2>
<p>Para crear las cuentas de matrix, lo haremos logeandonos en el servidor y creando la nueva cuenta desde el cliente. En el docker-compose anterior aparece la siguiente variable: <code>CONDUIT_ALLOW_REGISTRATION: ‘true’</code>. </p>
<p>Una vez no quieras que se registre nadie más en tu servidor, cambia el true por <code>false</code>.</p>
<h2 id="logearte-con-element">Logearte con Element</h2>
<p>Para conectarte a tu servidor de matrix con element, es necesario añadir la ruta del servidor del siguiente modo:</p>
<ul>
<li>https:matrix.dominio.duckdns.org</li>
</ul>
<p>No pongas la doble barra tras el https. En el resto de cliente si funciona</p>
<p> </p>
<h2 id="fuentes">Fuentes</h2>
<ul>
<li><a href="https://matrix.org/docs/projects/server/conduit">https://matrix.org/docs/projects/server/conduit</a></li>
<li><a href="https://gitlab.com/famedly/conduit">https://gitlab.com/famedly/conduit</a></li>
<li><a href="https://conduit.rs/">https://conduit.rs/</a></li>
<p>Publicado por Angel el Monday 11 July del 2022</p>
<p>También te puede interesar:</p>
<li><a href="https://ugeek.github.io/blog/post/2022-01-26-bot-matrix-en-bash.html">Bot Matrix en Bash</a></li>
<li><a href="https://ugeek.github.io/blog/post/2021-01-28-servidor-de-mensajeria-matrix-synapse-en-raspberry-ubuntu-debian--con-docker.html">Servidor de mensajería Matrix Synapse, en Raspberry, Ubuntu, Debian... con Docker</a></li>
<li><a href="https://ugeek.github.io/blog/post/2019-01-20-servidor-de-mensajeria-matrix-para-raspberry-cliente-riot.html">Servidor de Mensajería Matrix para Raspberry. Cliente Riot</a></li>
</ul>
<br><br><br>
<p style="text-align: center;">Powered by <a href="https://github.com/ugeek/org-bash-blog" target="_blank" rel="noopener">org-bash-blog</a></p>
<p style="text-align: center;">Written in OrgMode with Emacs and converted to HTML with Pandoc</p>
<p style="text-align: center;"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license"><img style="border-width: 0px; display: block; margin-left: auto; margin-right: auto;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" /></a><br />Este obra est&aacute; bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p><br><br><br>